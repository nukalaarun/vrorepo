<?xml version='1.0' encoding='UTF-8'?>
<dunes-script-module name="createDeploymentName" result-type="string" api-version="6.0.0" id="60df92ce-f18a-4670-b6cd-fc126edbb4fa" version="0.0.1" category-name="com.arun.actions">
  <description><![CDATA[creates an automated deployment name ]]></description>
  <param n="catalogItemName" t="string"><![CDATA[The vRA Catalog Item Name]]></param>
  <script encoded="false"><![CDATA[/* ----------------------------------------------------------------------------
   Name:         createDeploymentNameFromCatalogItemNameAndEnv
   Description:  Creates a unique vRA deployment name based on the
                 Catalog Item name and a date/time
   Author:       Arun Nukula
   URL:          https://github.com/v12n-io/vro-repository
   Date:         20/04/2022
   Version:      0.0.1
  
   Changes:
     0.0.1 - Initial version
   ---------------------------------------------------------------------------- */

var itemName = catalogItemName || "";
/*var envName = environment || ""; */
var deploymentName = "";

/*if (itemName != "" && itemName != null && envName != null && envName != "") { */
if (itemName != "" && itemName != null ) {
    var date = new Date();
    deploymentName = itemName + " -" + "- (" + date.toISOString() + ")";
    System.debug("Returning deploymentName: " + deploymentName);
}

return deploymentName;]]></script>
</dunes-script-module>