<?xml version='1.0' encoding='UTF-8'?>
<dunes-script-module name="executeDay2ActionChangeOwner" result-type="void" api-version="6.0.0" id="491ea463-9bb3-41bb-b729-9fb4e8601559" version="0.0.0" allowed-operations="vfe" category-name="com.terasky.utils">
  <param n="deploymentId" t="string"><![CDATA[]]></param>
  <param n="newOwner" t="string"><![CDATA[]]></param>
  <script encoded="false"><![CDATA[timeoutMinutes = 5
sleepIntervalSeconds = 5


pathUri = "/deployment/api/deployments/" + deploymentId + "/requests"
var payload = {
    "actionId": "Deployment.ChangeOwner",
    "inputs": {
        "New Owner": newOwner
    }
}
var content = System.getModule("com.terasky.utils").vraPostOperation(pathUri,JSON.stringify(payload));
content = JSON.parse(content)
requestId = content.id
System.getModule("com.terasky.utils").waitForDeploymentRequestStatus(deploymentId,requestId,timeoutMinutes,sleepIntervalSeconds);
]]></script>
</dunes-script-module>